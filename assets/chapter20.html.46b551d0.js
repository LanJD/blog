import{_ as t}from"./plugin-vue_export-helper.21dcd24c.js";import{o as e,c as r,e as l}from"./app.f8ee6222.js";const n={},d=l('<h3 id="\u65E5\u5FD7\u7BA1\u7406" tabindex="-1"><a class="header-anchor" href="#\u65E5\u5FD7\u7BA1\u7406" aria-hidden="true">#</a> \u65E5\u5FD7\u7BA1\u7406</h3><p>\u5728CentOS6.x\u4E2D\u65E5\u5FD7\u670D\u52A1\u5DF2\u7ECF\u7531rsyslogd\u53D6\u4EE3\u4E86\u539F\u6765\u7684syslogd\u670D\u52A1\u3002rsyslogd\u65E5\u5FD7\u670D\u52A1\u66F4\u52A0\u5148\u8FDB\uFF0C\u529F\u80FD\u66F4\u591A\u3002\u4F46\u662F\u4E0D\u8BBA\u8BE5\u670D\u52A1\u7684\u4F7F\u7528\uFF0C\u8FD8\u662F\u65E5\u5FD7\u6587\u4EF6\u7684\u683C\u5F0F\u5176\u5B9E\u90FD\u662F\u548Csyslogd\u670D\u52A1\u517C\u5BB9\u7684\uFF0C\u6240\u4EE5\u5B66\u4E60\u8D77\u6765\u57FA\u672C\u548Csyslogd\u670D\u52A1\u4E00\u81F4\u3002</p><p>\u5E38\u89C1\u65E5\u5FD7\u7684\u4F5C\u7528</p><table><thead><tr><th style="text-align:center;">\u65E5\u5FD7\u6587\u4EF6</th><th style="text-align:center;">\u8BF4\u660E</th></tr></thead><tbody><tr><td style="text-align:center;">/var/log/cron</td><td style="text-align:center;">\u8BB0\u5F55\u4E86\u7CFB\u7EDF\u5B9A\u65F6\u4EFB\u52A1\u76F8\u5173\u7684\u65E5\u5FD7\u3002</td></tr><tr><td style="text-align:center;">/var/log/cpus/</td><td style="text-align:center;">\u8BB0\u5F55\u4E86\u6253\u5370\u4FE1\u606F\u7684\u65E5\u5FD7</td></tr><tr><td style="text-align:center;">/var/log/dmesg</td><td style="text-align:center;">\u8BB0\u5F55\u4E86\u7CFB\u7EDF\u5728\u5F00\u673A\u65F6\u5185\u6838\u53EA\u68C0\u6D4B\u7684\u4FE1\u606F\u3002\u4E5F\u53EF\u7528\u4F7F\u7528dmesg\u547D\u4EE4\u76F4\u63A5\u67E5\u770B\u5185\u6838\u53EA\u68C0\u4FE1\u606F\u3002</td></tr><tr><td style="text-align:center;">/var/log/btmp</td><td style="text-align:center;">\u8BB0\u5F55\u9519\u8BEF\u767B\u5F55\u7684\u65E5\u5FD7\u3002\u8FD9\u4E2A\u6587\u4EF6\u65F6\u4E8C\u8FDB\u5236\u6587\u4EF6\uFF0C\u4E0D\u80FD\u76F4\u63A5vi\u67E5\u770B\u3002\u800C\u8981\u4F7F\u7528lastb\u547D\u4EE4\u67E5\u770B</td></tr><tr><td style="text-align:center;">/var/log/lastlog</td><td style="text-align:center;">\u8BB0\u5F55\u7CFB\u7EDF\u4E2D\u6240\u6709\u7528\u6237\u6700\u540E\u4E00\u6B21\u7684\u767B\u5F55\u65F6\u95F4\u7684\u65E5\u5FD7\u3002\u8FD9\u4E2A\u6587\u4EF6\u4E5F\u662F\u4E2A\u4E8C\u8FDB\u5236\u6587\u4EF6\uFF0C\u4E0D\u80FD\u76F4\u63A5\u4F7F\u7528vi\u67E5\u770B\uFF0C\u800C\u662F\u8981\u7528lastlog\u547D\u4EE4\u67E5\u770B</td></tr><tr><td style="text-align:center;">/var/log/mailog</td><td style="text-align:center;">\u8BB0\u5F55\u90AE\u4EF6\u4FE1\u606F\u3002</td></tr><tr><td style="text-align:center;">/var/log/message</td><td style="text-align:center;">\u8BB0\u5F55\u7CFB\u7EDF\u91CD\u8981\u4FE1\u606F\u7684\u65E5\u5FD7\u3002\u8FD9\u4E2A\u65E5\u5FD7\u6587\u4EF6\u4E2D\u4F1A\u8BB0\u5F55Linux\u7CFB\u7EDF\u7684\u7EDD\u5927\u591A\u6570\u91CD\u8981\u4FE1\u606F\u3002\u5982\u679C\u7CFB\u7EDF\u51FA\u73B0\u95EE\u9898\u65F6\uFF0C\u9996\u5148\u8981\u68C0\u6D4B\u7684\u5C31\u662F\u8FD9\u4E2A\u65E5\u5FD7\u6587\u4EF6</td></tr><tr><td style="text-align:center;">/var/log/secure</td><td style="text-align:center;">\u8BB0\u5F55\u6821\u9A8C\u548C\u6388\u6743\u65B9\u9762\u7684\u4FE1\u606F\u3002\u53EA\u8981\u6D89\u53CA\u8D26\u6237\u548C\u5BC6\u7801\u7684\u7A0B\u5E8F\u90FD\u4F1A\u8BB0\u5F55\uFF0C\u6BD4\u5982\u8BF4\u7CFB\u7EDF\u7684\u767B\u5F55\u3002ssh\u7684\u767B\u5F55\uFF0Csu\u5207\u6362\u7528\u6237\uFF0Csudo\u6388\u6743\uFF0C\u751A\u81F3\u6DFB\u52A0\u7528\u6237\u548C\u4FEE\u6539\u7528\u6237\u5BC6\u7801\u90FD\u4F1A\u8BB0\u5F55\u5728\u8FD9\u4E2A\u65E5\u5FD7\u6587\u4EF6\u4E2D</td></tr><tr><td style="text-align:center;">/var/log/wtmp</td><td style="text-align:center;">\u7528\u6237\u8BB0\u5F55\u6240\u6709\u7528\u6237\u7684\u767B\u5F55\u3001\u6CE8\u9500\u4FE1\u606F\uFF0C\u540C\u65F6\u8BB0\u5F55\u7CFB\u7EDF\u7684\u542F\u52A8\u3001\u91CD\u542F\u3001\u5173\u673A\u4E8B\u4EF6\u3002\u540C\u6837\u8FD9\u4E2A\u4E5F\u662F\u4E2A\u4E8C\u8FDB\u5236\u6587\u4EF6\uFF0C\u4E0D\u80FD\u76F4\u63A5vi\uFF0C\u800C\u9700\u8981\u4F7F\u7528last\u547D\u4EE4\u6765\u67E5\u770B</td></tr><tr><td style="text-align:center;">/var/run/utmp</td><td style="text-align:center;">\u8BB0\u5F55\u5F53\u524D\u5DF2\u7ECF\u767B\u9646\u7684\u7528\u6237\u4FE1\u606F\u3002\u8FD9\u4E2A\u6587\u4EF6\u4F1A\u968F\u7740\u7528\u6237\u7684\u767B\u5F55\u548C\u6CE8\u9500\u800C\u4E0D\u65AD\u7684\u53D8\u5316\uFF0C\u53EA\u8BB0\u5F55\u5F53\u524D\u767B\u5F55\u7528\u6237\u7684\u4FE1\u606F\u3002\u540C\u6837\u8FD9\u4E2A\u6587\u4EF6\u4E0D\u80FD\u76F4\u63A5vi\uFF0C\u9700\u8981\u4F7F\u7528w\u3001who\u3001users\u7B49\u547D\u4EE4\u6765\u67E5\u8BE2</td></tr></tbody></table><p>\u9664\u4E86\u7CFB\u7EDF\u9ED8\u8BA4\u7684\u65E5\u5FD7\u4E4B\u5916\uFF0C\u91C7\u7528RPM\u5F0F\u6309\u7167\u7684\u7CFB\u7EDF\u670D\u52A1\u4E5F\u4F1A\u9ED8\u8BA4\u628A\u65E5\u5FD7\u8BB0\u5F55\u5728/var/log\u76EE\u5F55\u4E2D\uFF08\u6E90\u7801\u5305\u6309\u7167\u7684\u670D\u52A1\u65E5\u5FD7\u662F\u5728\u6E90\u7801\u5305\u6307\u5B9A\u76EE\u5F55\u4E2D\uFF09\u3002\u4E0D\u8FC7\u8FD9\u4E9B\u65E5\u5FD7\u4E0D\u662F\u7531rsyslogd\u670D\u52A1\u6765\u8BB0\u5F55\u548C\u7BA1\u7406\u7684\uFF0C\u4E8C\u5341\u5404\u4E2A\u670D\u52A1\u4F7F\u7528\u81EA\u5DF1\u7684\u65E5\u5FD7\u7BA1\u7406\u6587\u6863\u6765\u8BB0\u5F55\u81EA\u8EAB\u65E5\u5FD7\u3002</p><h4 id="rsyslog\u670D\u52A1" tabindex="-1"><a class="header-anchor" href="#rsyslog\u670D\u52A1" aria-hidden="true">#</a> rsyslog\u670D\u52A1</h4><p>\u65E5\u5FD7\u6587\u4EF6\u683C\u5F0F<br> \u57FA\u672C\u65E5\u5FD7\u683C\u5F0F\u5305\u542B\u4E00\u4E0B\u56DB\u5217</p><ul><li>\u4E8B\u4EF6\u4EA7\u751F\u7684\u4E8B\u4EF6</li><li>\u53D1\u751F\u4E8B\u4EF6\u7684\u670D\u52A1\u5668\u7684\u4E3B\u673A\u540D</li><li>\u4EA7\u751F\u4E8B\u4EF6\u7684\u670D\u52A1\u540D\u6216\u7A0B\u5E8F\u540D</li><li>\u4E8B\u4EF6\u7684\u5177\u4F53\u4FE1\u606F</li></ul><p>/etc/rsyslog.conf \u914D\u7F6E\u6587\u4EF6<br> authpriv.* /var/log/secure<br> \u670D\u52A1\u540D\u79F0[\u8FDE\u63A5\u7B26\u53F7]\u65E5\u5FD7\u7B49\u7EA7 \u65E5\u5FD7\u8BB0\u5F55\u4F4D\u7F6E<br> \u8BA4\u8BC1\u76F8\u5173\u670D\u52A1.\u6240\u6709\u65E5\u5FD7\u7B49\u7EA7 \u8BB0\u5F55\u5728/var/log/secure\u65E5\u5FD7\u4E2D</p><table><thead><tr><th style="text-align:center;">\u670D\u52A1\u540D\u79F0</th><th style="text-align:center;">\u8BF4\u660E</th></tr></thead><tbody><tr><td style="text-align:center;">auth</td><td style="text-align:center;">\u5B89\u5168\u548C\u8BA4\u8BC1\u76F8\u5173\u4FE1\u606F\uFF08\u4E0D\u63A8\u8350\u4F7F\u7528authpriv\u66FF\u4EE3\uFF09</td></tr><tr><td style="text-align:center;">authpriv</td><td style="text-align:center;">\u5B89\u5168\u548C\u8BA4\u8BC1\u76F8\u5173\u4FE1\u606F\uFF08\u79C1\u6709\u7684\uFF09</td></tr><tr><td style="text-align:center;">cron</td><td style="text-align:center;">\u7CFB\u7EDF\u5B9A\u65F6\u4EFB\u52A1cront\u548Cat\u4EA7\u751F\u7684\u65E5\u5FD7</td></tr><tr><td style="text-align:center;">daemon</td><td style="text-align:center;">\u548C\u5404\u4E2A\u5B88\u62A4\u8FDB\u7A0B\u76F8\u5173\u7684\u65E5\u5FD7</td></tr><tr><td style="text-align:center;">ftp</td><td style="text-align:center;">ftp\u5B88\u62A4\u8FDB\u7A0B\u4EA7\u751F\u7684\u65E5\u5FD7</td></tr><tr><td style="text-align:center;">kern</td><td style="text-align:center;">\u5185\u6838\u4EA7\u751F\u7684\u65E5\u5FD7</td></tr><tr><td style="text-align:center;">local0-local7</td><td style="text-align:center;">\u4E3A\u672C\u5730\u4F7F\u7528\u9884\u7559\u7684\u670D\u52A1</td></tr><tr><td style="text-align:center;">lpr</td><td style="text-align:center;">\u6253\u5370\u4EA7\u751F\u7684\u65E5\u5FD7</td></tr></tbody></table><p>\u8FDE\u63A5\u7B26\u53F7\u53EF\u7528\u8BC6\u522B\u4E3A\uFF1A</p><ul><li>\u201C<em>\u201D\u4EE3\u8868\u6240\u6709\u65E5\u5FD7\u7B49\u7EA7\uFF0C\u6BD4\u5982\uFF1A\u201Cauthpriv.</em>\u201D \u4EE3\u8868authpriv\u8BA4\u8BC1\u4FE1\u606F\u670D\u52A1\u4EA7\u751F\u7684\u65E5\u5FD7\uFF0C\u6240\u6709\u7684\u65E5\u5FD7\u7B49\u7EA7\u90FD\u8BB0\u5F55</li><li>\u201C.\u201D\u4EE3\u8868\u53EA\u8981\u6BD4\u540E\u9762\u7684\u767B\u5F55\u9AD8\u5F97\uFF08\u5305\u542B\u8BE5\u7B49\u7EA7\uFF09\u65E5\u5FD7\u90FD\u8BB0\u5F55\u4E0B\u8DEF\u3002\u6BD4\u5982\uFF1A\u201Ccron.info\u201D\u4EE3\u8868cron\u670D\u52A1\u4EA7\u751F\u5F97\u65E5\u5FD7\uFF0C\u53EA\u8981\u65E5\u5FD7\u7B49\u7EA7\u5927\u4E8E\u7B49\u4E8Einfo\u7EA7\u522B\uFF0C\u5C31\u8BB0\u5F55\u3002</li><li>\u201C=\u201D\u4EE3\u8868\u53EA\u8BB0\u5F55\u6240\u6709\u7B49\u7EA7\u5F97\u65E5\u5FD7\uFF0C\u5176\u4ED6\u7B49\u7EA7\u5F97\u90FD\u4E0D\u8BB0\u5F55\u3002\u6BD4\u5982\uFF1A\u201C*.=emerg\u201D\u4EE3\u8868\u4EBA\u548C\u65E5\u5FD7\u670D\u52A1\u4EA7\u751F\u5F97\u65E5\u5FD7\uFF0C\u53EA\u8981\u7B49\u7EA7\u662Femerg\u7B49\u7EA7\u5C31\u8BB0\u5F55\u3002\u8FD9\u79CD\u7528\u6CD5\u5C11\u89C1\u3002</li><li>\u201C.!\u201D\u4EE3\u8868\u4E0D\u7B49\u4E8E\uFF0C\u4E5F\u5C31\u662F\u9664\u4E86\u8BE5\u7B49\u7EA7\u5F97\u65E5\u5FD7\u5916\uFF0C\u5176\u4ED6\u7B49\u7EA7\u5F97\u65E5\u5FD7\u90FD\u8BB0\u5F55\u3002</li></ul><p>\u65E5\u5FD7\u7B49\u7EA7</p><table><thead><tr><th style="text-align:center;">\u7B49\u7EA7\u540D\u79F0</th><th style="text-align:center;">\u8BF4\u660E</th></tr></thead><tbody><tr><td style="text-align:center;">debug</td><td style="text-align:center;">\u4E00\u822C\u5F97\u8C03\u8BD5\u4FE1\u606F\u8BF4\u660E</td></tr><tr><td style="text-align:center;">info</td><td style="text-align:center;">\u57FA\u672C\u5F97\u901A\u77E5\u4FE1\u606F</td></tr><tr><td style="text-align:center;">notice</td><td style="text-align:center;">\u666E\u901A\u4FE1\u606F\u3002\u4F46\u662F\u6709\u4E00\u5B9A\u5F97\u91CD\u8981\u6027</td></tr><tr><td style="text-align:center;">warning</td><td style="text-align:center;">\u8B66\u544A\u4FE1\u606F\u3002\u4F46\u662F\u8FD8\u4E0D\u4F1A\u5F71\u54CD\u5230\u670D\u52A1\u6216\u7CFB\u7EDF\u5F97\u8FD0\u884C</td></tr><tr><td style="text-align:center;">err</td><td style="text-align:center;">\u9519\u8BEF\u4FE1\u606F\u3002\u4E00\u822C\u8FBE\u5230\u4E86err\u7B49\u7EA7\u5F97\u4FE1\u606F\u4EE5\u53CA\u53EF\u7528\u5F71\u54CD\u5230\u670D\u52A1\u6216\u7CFB\u7EDF\u5F97\u8FD0\u884C\u4E86</td></tr><tr><td style="text-align:center;">crit</td><td style="text-align:center;">\u4E34\u754C\u72B6\u6001\u4FE1\u606F\uFF0C\u6BD4err\u7B49\u7EA7\u8FD8\u8981\u4E25\u91CD</td></tr><tr><td style="text-align:center;">alert</td><td style="text-align:center;">\u8B66\u544A\u72B6\u6001\u4FE1\u606F\uFF0C\u6BD4crit\u8FD8\u8981\u4E25\u91CD\u3002\u5FC5\u987B\u7ACB\u5373\u91C7\u53D6\u884C\u52A8</td></tr><tr><td style="text-align:center;">emerg</td><td style="text-align:center;">\u75BC\u75DB\u7B49\u7EA7\u4FE1\u606F\u3002\u7CFB\u7EDF\u5DF2\u7ECF\u65E0\u6CD5\u8FD0\u884C\u4E86</td></tr></tbody></table>',14),a=[d];function s(i,c){return e(),r("div",null,a)}var o=t(n,[["render",s],["__file","chapter20.html.vue"]]);export{o as default};
